# Config file for the Simpletest Job Type
jobtype: "simpletest"
# Job Definition template location
template: "src/DrupalCI/Plugin/JobTypes/simpletest/template.yml"
# Job Arguments
arguments:
    CoreProject:
        description: ''
        default_value: 'drupal'
        include_default: TRUE
        priority: 1
    DBVersion:
        description: 'Defines the database version for this particular simpletest run. May map to a required service container.'
        default_value: 'mysql-5.5'
        include_default: TRUE
    PHPVersion:
        description: 'Defines the PHP Version used within the executable container for this job type.'
        default_value: '5.5'
        include_default: TRUE
    CoreRepository:
        description: 'Defines the primary repository to be checked out while building the codebase to test.'
        default_value: 'git://drupalcode.org/project/drupal.git'
        include_default: TRUE
    CoreBranch:
        description: 'Defines the branch on the primary repository to be checked out while building the codebase to test.'
        default_value: '8.0.x'
        include_default: TRUE
        priority: 2
    GitCheckoutDepth:
        description: 'Defines the depth parameter passed to git clone while checking out the core repository.'
        default_value: '1'
        include_default: TRUE
    RunScript:
        description: 'Defines the default run script to be executed on the container.'
        default_value: '/var/www/html/core/scripts/run-tests.sh '
        include_default: TRUE
    RunOptions:
        description: 'A string containing a series of any other run script options to append to the run script when performing a job.'
        default_value: 'color;keep-results'
        include_default: TRUE
        priority: 1
    DBUser:
        description: 'Defines the default database user to be used on the site database.'
        default_value: 'drupaltestbot'
        include_default: TRUE
    DBPassword:
        description: 'Defines the default database password to be used on the site database.'
        default_value: 'drupaltestbotpw'
        include_default: TRUE
    DBUrl:
        description: 'Define the --dburl parameter to be passed to the run script.'
        default_value: 'dbtype://host'  # DBVersion, DBUser and DBPassword variable plugins will change this.
        include_default: TRUE
    TestGroups:
        description: 'Defines the target test groups to run.'
        default_value: '--all'
        include_default: TRUE
    SQLite:
        description: 'Defines the location of the sqlite database used to store test results.'
        default_value: '/var/www/html/results/simpletest.sqlite'
        include_default: TRUE
    Concurrency:
        description: 'Defines the value to pass to the --concurrency argument of the run script.'
        default_value: 4
        include_default: TRUE
    GitCommitHash:
        description: 'This allows to checkout specific core commits, useful for regression testing'
        default_value: ''
        include_default: TRUE
    PHPInterpreter:
        description: 'Defines the php interpreter to be passed to the Run Script in the --php argument.'
        default_value: '/opt/phpenv/shims/php'
        include_default: TRUE
    SyntaxCheck:
        description: ''
        default_value: TRUE
        include_default: TRUE
    #XMLOutput:
    #   description: 'Defines the directory where xml results will be stored.'
    #     default_value: '/var/www/html/results/xml'
    UseLocalCodebase:
        description: 'Used to define a local codebase to be cloned (instead of performing a Git checkout)'
    WorkingDir:
        description: 'Defines the location to be used in creating the local copy of the codebase, to be mapped into the container as a container volume.'
    ResultsServer:
        description: 'Specifies the url string of a DrupalCI results server for which to publish job results'
    ResultsServerConfig:
        description: 'Specifies the location of a configuration file on the test runner containg a DrupalCI Results Server configuration to use in publishing results.'
    JobBuildId:
        description: 'Specifies a unique build ID assigned to this job from an upstream server'
    JobId:
        description: 'Specifies a unique results server node ID to use when publishing results for this job.'
    JobType:
        description: 'Specifies a default job type to assume for a "drupalci run" command'
    EXCLUDE:
        description: 'Specifies whether to exclude the .git directory during a clone of a local codebase.'
    DieOnFail:
        description: 'Defines whether to include the --die-on-fail flag in the Run Script options'
    Fetch:
        description: 'Used to specify any files which should be downloaded while building out the codebase.'
        #Syntax: 'url1,relativelocaldirectory1;url2,relativelocaldirectory2;...'
    Patch:
        description: 'Defines any patches which should be applied while building out the codebase.'
        #Syntax: 'localfile1,applydirectory1;localfile2,applydirectory2;...'
    ResultsDirectory:
        description: 'Defines the local directory within the container where the xml results file should be written.'
    RunScriptArguments:
        description: 'An array of other build script options which will be added to the runScript command when executing a job.'
        #Syntax: 'argkey1,argvalue1;argkey2,argvalue2;argkey3;argkey4,argvalue4;'

build_artifacts:
    testgroups: 'var/www/html/artifacts/testgroups.txt'
    sqlite_test_db: '/var/www/html/results/simpletest.sqlite'
    #php_error_log: ''
    #apache_error_log: ''
    #run_tests_verbose: ''